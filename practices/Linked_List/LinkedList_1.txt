#include <iostream>
#include <stdlib.h>
#include <time.h>
#include <windows.h>
#include <conio.h>

#define WIDTH 30
#define HEIGHT 20

using namespace std;

void gotoxy(int,int);
void gotoxy(int x,int y){
	COORD pos = {x,y};
    HANDLE hOut = GetStdHandle(STD_OUTPUT_HANDLE);// 獲取標準輸出裝置控制代碼
    SetConsoleCursorPosition(hOut, pos);//兩個引數分別是指定哪個窗體，具體位置
}

class Node{
	public:
		int x;
		int y;
		int timer;
		Node *next = NULL;

	Node(){
		x=rand()%WIDTH;
		y=rand()%HEIGHT;
		timer=9;
		Print();
	}

	void Print(){
		gotoxy(x,y);
		cout<<timer;
	}
};

class LinkedList{
	private:
		Node *p;
	public:
		LinkedList(){
			p=NULL;
		}
		void Insert(Node *newNode){
			if(p==NULL){
				p = newNode;
				p->next = p;
			}
			else{
				newNode->next = p->next;
				p->next = newNode;
			}
			PrintList();
		}
		void PrintList(){
			Node *q;
			q=p;
			do{
				q->Print();
				q=q->next;
			}while(q!=p);
		}
};

int main(){
	srand(time(NULL));

	Node *newNode;
	LinkedList *List;
    List = new LinkedList;

	newNode = new Node;
	List->Insert(newNode);
	newNode = new Node;
	List->Insert(newNode);
	newNode = new Node;
	List->Insert(newNode);

	return 0;
}